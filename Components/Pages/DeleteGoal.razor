@page "/deletegoal"
@layout MainLayout

@using GoalGrower.Models
@using System.Reflection.Metadata
@rendermode InteractiveServer

<PageTitle>Goal Grower - Delete Goal Page</PageTitle>

<h1>Delete @goal.GoalName Goal</h1>

<div class="details-container">
    <p>Description: @goal.GoalDescription</p>
    <p>Goal Amount: $@goal.GoalAmount</p>
    <p>Complete By Date: @goal.CompletionDate</p>
</div>

<button type="submit" @onclick="HandleDeleteGoal" class="delete-btn">Confirm Delete</button>

@if (!string.IsNullOrEmpty(errorMessage))
{
    <p style="color:red">@errorMessage</p>
}

@code {
    [Parameter]
    public int GoalId { get; set; }

    private GoalModel goal { get; set; } = new GoalModel();
    private string errorMessage = string.Empty;

    private async Task HandleDeleteGoal()
    {
        errorMessage = string.Empty;

        // Logic to delete the goal goes here
        // After deleting the goal navigate back to dashboard
    }
}